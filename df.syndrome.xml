<data-definition>
    <enum-type type-name='creature_interaction_effect_type'>
        <enum-item name='PAIN'/>
        <enum-item name='SWELLING'/>
        <enum-item name='OOZING'/>
        <enum-item name='BRUISING'/>
        <enum-item name='BLISTERS'/>
        <enum-item name='NUMBNESS'/>
        <enum-item name='PARALYSIS'/>
        <enum-item name='FEVER'/>
        <enum-item name='BLEEDING'/>
        <enum-item name='COUGH_BLOOD'/>
        <enum-item name='VOMIT_BLOOD'/>
        <enum-item name='NAUSEA'/>
        <enum-item name='UNCONSCIOUSNESS'/>
        <enum-item name='NECROSIS'/>
        <enum-item name='IMPAIR_FUNCTION'/>
        <enum-item name='DROWSINESS'/>
        <enum-item name='DIZZINESS'/>
    </enum-type>

    <bitfield-type type-name='creature_interaction_effect_flags' base-type='uint32_t'> bay12: CREATURE_INTERACTION_EFFECT_FLAG_*
        <flag-bit name='SIZE_DELAYS'/>
        <flag-bit name='SIZE_DILUTES'/>
        <flag-bit name='VASCULAR_ONLY'/>
        <flag-bit name='MUSCULAR_ONLY'/>
        <flag-bit name='RESISTABLE'/>
        <flag-bit name='LOCALIZED'/>
    </bitfield-type>

    <enum-type type-name='creature_interaction_effect_target_mode' base-type='int16_t'> bay12: BodyPartGroupType
        <enum-item name='BY_TYPE'/>
        <enum-item name='BY_TOKEN'/>
        <enum-item name='BY_CATEGORY'/>
    </enum-type>

    <struct-type type-name='creature_interaction_effect_target' comment='not a real structure'>
        <stl-vector name='mode' type-name='creature_interaction_effect_target_mode'/>
        <stl-vector name='key' pointer-type='stl-string'/>
        <stl-vector name='tissue' pointer-type='stl-string'/>
    </struct-type>

    <class-type type-name='creature_interaction_effect' original-name='creature_interaction_effectst'>
        <bitfield name='flags' type-name='creature_interaction_effect_flags'/>
        <int32_t name='prob'/>
        <int32_t name='start'/>
        <int32_t name='peak'/>
        <int32_t name='end'/>

        <virtual-methods>
            <vmethod ret-type='creature_interaction_effect_type' name='getType'/>
            <vmethod name='clone'>
                <ret-type><pointer type-name='creature_interaction_effect'/></ret-type>
            </vmethod>
            <vmethod is-destructor='true'/>
            <vmethod name='doAction'>
                <pointer type-name='unit'/>
                <pointer type-name='unit_syndrome'/>
                <pointer type-name='syndrome'/>
                <int32_t name='intensity'/>
                <int16_t name='bp_index'/>
                <int16_t name='bp_layer'/>
                <pointer pointer-type='unit_wound'/>
            </vmethod>
            <vmethod name='isUntargeted' ret-type='bool'/>

            <vmethod name='getTargetModes'>
                <ret-type><pointer><stl-vector type-name='creature_interaction_effect_target_mode'/></pointer></ret-type>
            </vmethod>
            <vmethod name='getTargetKeys'>
                <ret-type><pointer><stl-vector pointer-type='stl-string'/></pointer></ret-type>
            </vmethod>
            <vmethod name='getTargetTissues'>
                <ret-type><pointer><stl-vector pointer-type='stl-string'/></pointer></ret-type>
            </vmethod>
        </virtual-methods>
    </class-type>

    <class-type type-name='creature_interaction_effect_painst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_swellingst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_oozingst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_bruisingst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_blistersst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_numbnessst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_paralysisst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_feverst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
    </class-type>

    <class-type type-name='creature_interaction_effect_bleedingst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_cough_bloodst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
    </class-type>

    <class-type type-name='creature_interaction_effect_vomit_bloodst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
    </class-type>

    <class-type type-name='creature_interaction_effect_nauseast'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
    </class-type>

    <class-type type-name='creature_interaction_effect_unconsciousnessst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
    </class-type>

    <class-type type-name='creature_interaction_effect_necrosisst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_impair_functionst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
        <compound type-name='creature_interaction_effect_target' name='target'/>
    </class-type>

    <class-type type-name='creature_interaction_effect_drowsinessst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
    </class-type>

    <class-type type-name='creature_interaction_effect_dizzinessst'
                inherits-from='creature_interaction_effect'>
        <int32_t name="sev"/>
    </class-type>

    <bitfield-type type-name='syndrome_flags' base-type='uint32_t'> bay12: CREATURE_INTERACTION_SYNDROME_FLAG_*
        <flag-bit name='SYN_INJECTED'/>
        <flag-bit name='SYN_CONTACT'/>
        <flag-bit name='SYN_INHALED'/>
    </bitfield-type>

    <struct-type type-name='syndrome' original-name='creature_interaction_syndromest'
                 instance-vector='$global.world.raws.mat_table.syndromes'>
        <stl-string name='syn_name'/>
        <stl-vector name='ce' pointer-type='creature_interaction_effect'/>
        <stl-vector name='syn_affected_class' pointer-type='stl-string'/>
        <stl-vector name='syn_affected_creature' pointer-type='stl-string'/>
        <stl-vector name='syn_affected_caste' pointer-type='stl-string'/>
        <stl-vector name='syn_immune_class' pointer-type='stl-string'/>
        <stl-vector name='syn_immune_creature' pointer-type='stl-string'/>
        <stl-vector name='syn_immune_caste' pointer-type='stl-string'/>
        <bitfield name='flags' type-name='syndrome_flags'/>
        <int32_t name='id'/>
    </struct-type>

    <struct-type type-name='creature_interactionst'>
        <stl-vector name='syndrome' pointer-type='syndrome'/>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
